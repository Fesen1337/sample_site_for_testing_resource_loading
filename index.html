<form id="form">
  resource_url:
  <input type="text" name="resource_url" style="width: 80em;">
  <br>
  <br>
  <button id='download_button' type="button">download resource</button>
</form>

<script type="text/javascript">

window.onload = function() {
  var resourceUrl = sessionStorage.getItem("resource_url");
  if (resourceUrl) {
    sessionStorage.removeItem("resource_url");
    form.resource_url.value = resourceUrl;
    downloadResource(resourceUrl);
  }
}

var myLink = document.getElementById('download_button');

myLink.onclick = function(){
  sessionStorage.setItem("resource_url", form.resource_url.value);
  document.location.reload();
  return false;
}

function downloadResource(resourceUrl) {
	var script = document.createElement("script");
  script.type = "text/javascript";
  script.src = resourceUrl;
  document.getElementsByTagName("head")[0].appendChild(script);
}

</script>
